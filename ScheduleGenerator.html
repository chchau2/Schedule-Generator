<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Schedule Generator</title>
  <style>
    table {
      border-collapse: collapse;
      width: 100%;
    }
    td {
      border: 1px solid #000000;
      padding: 10px;
      text-align: center;
      cursor: pointer;
      position: relative; /* For positioning the text box */
    }
    .text-box {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: none;
      width: 80%;
    }
    .text-box input {
      width: 100%;
      padding: 5px;
    }
  </style>
</head>
<body>
    <table id="staffTable" border="1">
        <tr>
            <th style="color: white; background-color: #431843">Chris</th>
            <th style="color: black; background-color: #74cb60">Janice</th>
            <th style="color: black; background-color: #9dc4de">Natalie</th>
            <th style="color: black; background-color: #e3863a">Meg</th>
            <th style="color: black; background-color: #cb9fd3">Christine</th>
            <th style="color: white; background-color: #bb2222">Abraham</th>
            <th style="color: white; background-color: #28356c">Vicki</th>
            <th style="color: black; background-color: #f3f361">HK</th>
        </tr>
    </table>
    <script>
        const row = table.insertRow(); // Create a new row
        for(let i = 0; i < 8; i++) {
            const newCell = row.insertCell(0);
        }
    </script>



<h1>Week 1</h1>
    <table id="toggleTable" border="1">
        <tr>
            <th></th>
            <th>Sunday</th>
            <th>Monday</th>
            <th>Tuesday</th>
            <th>Wednesday</th>
            <th>Thursday</th>
            <th>Friday</th>
            <th>Saturday</th>
        </tr>
        <script>
            // Get the current date
            let currentDate = new Date();
            
            // Function to get the start of the current week (Sunday)
            function getStartOfWeek(date) {
                let day = date.getDay(),
                    diff = date.getDate() - day; // Get the difference from Sunday
                return new Date(date.setDate(diff));
            }
            
            // Get the start of the current week (Sunday)
            let startOfWeek = getStartOfWeek(new Date(currentDate));
            
            // Define day names and the corresponding date numbers
            const dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
            const tableHeaders = document.querySelectorAll("#toggleTable th");
            
            // Loop through the days of the week and set day names + date in the headers
            tableHeaders.forEach((th, index) => {
                if (index > 0) { // Skip the first header (empty cell)
                    let dayOffset = index - 1; // Index 1 corresponds to Sunday, 2 to Monday, etc.
                    let dayDate = new Date(startOfWeek);
                    dayDate.setDate(startOfWeek.getDate() + dayOffset); // Calculate the date for the current day
                    
                    // Create a variable with day name and date
                    let dayHeader = `${dayNames[index - 1]} ${dayDate.getDate()}`;
                    
                    // Update the <th> with the generated variable
                    th.textContent = dayHeader; // Insert the variable content into the <th>
                }
            });
        </script>
    </table>
    <script>
    // Generate the table dynamically
    const table = document.getElementById("toggleTable");
    const rows = 7; // Number of rows
    const cols = 7; // Number of columns (14 * 14 = 196 cells)

   
    for (let i = 0; i < rows; i++) 
    {
        const row = table.insertRow(); // Create a new row
        const newCell = row.insertCell(0);
        for (let j = 0; j < cols; j++) 
        {
            const cell = row.insertCell(); // Create a new cell
            if (i == 0 && j == 0) newCell.textContent = '9am - 5pm';
            if (i == 1 && j == 0) newCell.textContent = 'HK';
            if (i == 2 && j == 0) newCell.textContent = '1pm - 9pm';
            if (i == 3 && j == 0) newCell.textContent = 'MID Shift';
            if (i == 4 && j == 0) newCell.textContent = 'NOTES:';
            if (i == 5 && j == 0) newCell.textContent = 'Janice';
            if (i == 6 && j == 0) newCell.textContent = 'Chris';
            if(i < 4){
                // Add an event listener for the click event
                cell.addEventListener("click", () => {
                    // Toggle cell background color on click
                    if (cell.style.backgroundColor === "lightblue") {
                    cell.style.backgroundColor = ""; // Reset to default
                    } else {
                    cell.style.backgroundColor = "lightblue"; // Set to light blue
                    }
                });
            }
            else{
                cell.onclick = function(){
                    makeCellEditable(this);
                };
            }
        }
    }
    function makeCellEditable(cell)
    {
        if(!cell.isEditable){ cell.contentEditable = true; }      
    }
  </script>
</body>
</html>